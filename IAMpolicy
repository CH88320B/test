resource "aws_iam_role" "lambda" {
  name                 = "BURoleForLambda-${var.namespace}-${var.environment}-${var.function_name}"
  assume_role_policy   = data.aws_iam_policy_document.policy_document.json
  permissions_boundary = var.boundary_policy_arn

  dynamic "inline_policy" {
    for_each = var.inline_policy != "" ? { policy_found = true } : {}

    content {
      policy = var.inline_policy
      name   = "BUPolicyForLambda-${var.namespace}-${var.environment}-${var.function_name}"
    }
  }
}
